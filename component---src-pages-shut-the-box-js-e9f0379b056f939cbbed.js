(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{LDGM:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),c=n("Bl7J"),l=n("vrFN");n("pJf4"),n("q8oJ"),n("cFtU"),n("m210"),n("4DPX"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("ToIb");function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){var e=Object(r.useState)([]),t=e[0],n=e[1],c=Object(r.useState)(b()),l=c[0],i=c[1],u=Object(r.useState)(!1),m=u[0],y=u[1],p=Object(r.useState)(!0),g=p[0],S=p[1],w=Object(r.useState)(new Set),k=w[0],O=w[1],j=Object(r.useState)(!1),A=j[0],C=j[1],z=Object(r.useState)(!1),D=z[0],N=z[1];Object(r.useEffect)((function(){g||h(o(l),0,E(t))||(C(!0),S(!1))}),[g]),Object(r.useEffect)((function(){0===l.size&&(console.log("gameStateAtWin","dice","availableChoices","pickingNumbers","needsToRoll","selectedNumbers","gameOver"),console.log("availableChoices.size is equal to zero apparently?",l.size),console.log("gameStateAtWin",t,l,m,g,k,A),C(!0),N(!0))}),[l.size]);var I=m&&v(k,E(t));Object(r.useEffect)((function(){var e=function(e){switch(e.key){case"r":T();break;case"n":J();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m&&x(parseInt(e.key));break;case"Enter":I&&M();break;default:console.log("default",e.key)}};return window.addEventListener("keypress",e),function(){return window.removeEventListener("keypress",e)}}));var J=function(){n([]),i(b()),y(!1),O(new Set),C(!1),S(!0)},T=function(){!A&&g&&(console.log("rolling"),E(o(l))>6?n([d(),d()]):n([d()]),S(!1),y(!0))},x=function(e){if(!A&&l.has(e)){var t=new Set(k);k.has(e)?t.delete(e):t.add(e),O(t)}},M=function(){if(!A&&!g){console.log("finalize selection");var e=new Set(l);o(k).forEach((function(t){return e.delete(t)})),i(e),O(new Set),n([]),y(!1),S(!0)}};return a.a.createElement("div",{className:"ShutTheBox"},a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement(f,{availableChoices:l,chosenNumbers:k,toggleChoice:x,disabled:!m,gameOver:A}),a.a.createElement("div",null,a.a.createElement("button",{disabled:!I,onClick:M},"Select these numbers")),a.a.createElement("div",null,a.a.createElement("button",{onClick:T,disabled:!g},"Roll")),"Dice:",t.length>0&&a.a.createElement(s,{dice:t}),A?a.a.createElement("div",null,a.a.createElement("div",null,"GAME OVER"),D?a.a.createElement("div",null,"You shut the box!!!"):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,JSON.stringify(o(l))),a.a.createElement("div",null,"Total ",a.a.createElement("span",null,E(o(l))))),a.a.createElement("button",{onClick:J},"Start new game")):a.a.createElement("div",null,m?"Select your numbers":"Roll the dice")))};function s(e){var t=e.dice;return a.a.createElement("div",null,t.map((function(e,t){return a.a.createElement("div",{key:"die"+t},e)})))}var f=function(e){var t=e.availableChoices,n=e.chosenNumbers,r=e.toggleChoice,c=e.disabled,l=e.gameOver;return a.a.createElement("div",null,m.map((function(e){return a.a.createElement("button",{key:e,disabled:c||!t.has(e),style:{color:t.has(e)&&n.has(e)&&"red"},onClick:function(){!l&&r(e)}},e)})))},m=o(Array(9).keys()).map((function(e){return e+1})),d=function(){return Math.ceil(6*Math.random())},b=function(){return new Set(o(Array(9).keys()).map((function(e){return e+1})))},v=function(e,t){return E(o(e))===t},E=function(e){return e.reduce((function(e,t){return e+t}),0)},h=function e(t,n,r){if(n===r)return!0;if(n>r)return!1;for(var a=0;a<t.length;a++){var c=t.slice(0);if(c.splice(a,1),e(c,n+t[a],r))return!0}return!1};t.default=function(){return a.a.createElement(c.a,null,a.a.createElement(l.a,{title:"Dan Dzoan - Shut The Box"}),a.a.createElement(u,null))}}}]);
//# sourceMappingURL=component---src-pages-shut-the-box-js-e9f0379b056f939cbbed.js.map